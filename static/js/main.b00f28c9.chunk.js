(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{54:function(e,t,n){e.exports=n(62)},62:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(53),o=n.n(i),c=n(7),u=n(11),s=n(13),l=n(12),d=n(14),p=n(72),m=n(76),f=n(75),j=n(73),b=function e(){Object(c.a)(this,e)},h=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(c.a)(this,e),this.map={},this.Factors={},n.forEach(function(e){t.Factors[e.name]=e})}return Object(u.a)(e,[{key:"create",value:function(e){var t=this.map[e];if(t)return t;var n=new(0,this.Factors[e]);return this.map[e]=n,n}}]),e}(),O=n(71),v=n(32),y=n(64),_=n(63),g=n(34),E=n(70),w=n(69),$=[{user_id:"1",user_name:"\u6797\u51b2"},{user_id:"2",user_name:"\u5b8b\u6c5f"},{user_id:"3",user_name:"\u6643\u76d6"},{user_id:"4",user_name:"\u609f\u7a7a"}],k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).defaultUser=Object(O.a)(500).pipe(Object(_.a)({payload:{user_id:"1",user_name:"\u6797\u51b2"}})),n.shiftUserId$=new v.a,n.shiftUser$=n.shiftUserId$.pipe(Object(g.a)(function(e){var t=$.find(function(t){return t.user_id===e});return t?{payload:t}:{err:new Error("user not found")}})),n.obs=Object(y.a)(n.defaultUser,n.shiftUser$).pipe(Object(E.a)({isLoading:!0}),Object(w.a)(1)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"shiftUser",value:function(e){this.shiftUserId$.next(e)}}]),t}(b),L=n(66),U=n(74),P=n(42),x=n(65),M=[{proj_id:"1",proj_name:"\u72d7\u4e0d\u7406\u5305\u5b50\u5e97"},{proj_id:"2",proj_name:"KTV"},{proj_id:"3",proj_name:"\u7f51\u5496\u4e0d\u5728\u8fd9"},{proj_id:"4",proj_name:"\u9b3c\u77e5\u9053\u662f\u4ec0\u4e48"}],C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).user$=I.create(k.name),n.obs=n.user$.obs.pipe(Object(x.a)(function(e){return e.err||e.isLoading?Object(P.a)({err:e.err,isLoading:e.isLoading}):Object(O.a)(3*(Math.random()+.5)).pipe(Object(g.a)(function(){var t=e.payload.user_id,n=M.find(function(e){return e.proj_id===t});return n?{payload:n}:{err:new Error("project no found")}}))})),n}return Object(d.a)(t,e),t}(b),I=new h([k,C]),F=n(67),W=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).didMount$=new L.a(!1),n.state={payload:void 0,err:void 0};var r=n.props.$;return n.instance=I.create(r.name),n.didMount$.pipe(Object(x.a)(function(e){return Object(U.a)(function(){return e},n.instance.obs)}),Object(g.a)(function(e){return{payload:e}}),Object(F.a)(function(e){return Object(P.a)({err:e})})).subscribe(function(e){var t=e.payload,r=e.err;n.setState({payload:t,err:r})}),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.didMount$.next(!0)}},{key:"componentWillUnmount",value:function(){this.didMount$.next(!1),this.didMount$.complete()}},{key:"render",value:function(){var e=this.state,t=e.payload,n=e.err,r=this.props.children;return t||n?r(n,t,this.instance):""}}]),t}(r.PureComponent),A=n(68),B=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.createElement("div",null,r.createElement(A.a,{to:"./Page2"},"Page2"),r.createElement(W,{$:k},function(e,t,n){if(e&&"user not found"!==e.message)return r.createElement("div",{style:{background:"red"}},e.message);var a=r.createRef();return r.createElement("form",{onSubmit:function(e){e.preventDefault(),n.shiftUser(a.current.value)}},r.createElement("input",{type:"text",ref:a,placeholder:"input some id to login, like: 1,2,3,4,5,6",style:{width:300}}))}),r.createElement(W,{$:k},function(e,t,n){var a=e||t.err;return a?r.createElement("div",{style:{background:"red"}},a.message):t.isLoading?r.createElement("div",null,"isLoading"):r.createElement("p",null,"user_id: ",t.payload.user_id,r.createElement("br",null),"user_name: ",t.payload.user_name)}),r.createElement(W,{$:C},function(e,t,n){var a=e||t.err;return a?r.createElement("div",{style:{background:"red"}},a.message):t.isLoading?r.createElement("div",null,"isLoading"):r.createElement("p",null,"proj_id: ",t.payload.proj_id,r.createElement("br",null),"proj_name: ",t.payload.proj_name)}))}}]),t}(r.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.createElement("div",null,r.createElement(A.a,{to:"./Page1"},"Page1"),r.createElement(W,{$:C},function(e,t,n){var a=e||t.err;return a?r.createElement("div",{style:{background:"red"}},a.message):t.isLoading?r.createElement("div",null,"isLoading"):r.createElement("p",null,"proj_id: ",t.payload.proj_id,r.createElement("br",null),"proj_name: ",t.payload.proj_name)}))}}]),t}(r.Component),J=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.createElement(p.a,{basename:"/rx_react_example"},r.createElement(m.a,null,r.createElement(f.a,{path:"/Page1",component:B}),r.createElement(f.a,{path:"/Page2",component:D}),r.createElement(j.a,{to:"./Page1"})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[54,2,1]]]);
//# sourceMappingURL=main.b00f28c9.chunk.js.map